<div class="page-header">
	<h1>
		用户信息
		<small>
			<i class="ace-icon fa fa-angle-double-right"></i>
			用户列表
		</small>
	</h1>
</div><!-- /.page-header -->

<div class="row">
	<div class="col-sm-12">
		<div class="clearfix">
			<div class="pull-right tableTools-container"></div>
		</div>
		<table id="user-table" class="table table-striped table-bordered table-hover center">
			<thead >
				<tr>
					<th class="center sorting_disabled" rowspan="1" colspan="1" aria-label="">
						<label class="pos-rel">
							<input class="ace" type="checkbox">
							<span class="lbl"></span>
						</label>
					</th>
					<th class="center">姓名</th>
					<th class="center">编码</th>
					<th class="center">公司</th>
					<th class="center">部门</th>
					<th class="center">角色</th>
					<th class="center">性别</th>
					<th class="center">入职</th>
					<th class="center">生日</th>
					<th class="center">操作</th>
				</tr>
			</thead>
			<tbody>
				<volist name="userlist" id="userinfo">
					<tr>
						<td>
							<label class="pos-rel">
								<input class="ace" type="checkbox">
								<span class="lbl"></span>
							</label>
						</td>
						<td>{$userinfo.user_name}</td>
						<td>{$userinfo.user_code}</td>
						<td>{$userinfo.user_company}</td>
						<td>{$userinfo.user_group}</td>
						<td>{$userinfo.user_role}</td>
						<td>{$userinfo.user_sex}</td>
						<td>{$userinfo.user_entry}</td>
						<td>{$userinfo.user_born}</td>
						<td>
							<div class="hidden-sm hidden-xs btn-group">
								<button class="btn btn-xs btn-info">
									<i class="ace-icon fa fa-pencil bigger-120"></i>
								</button>
								<button class="btn btn-xs btn-danger">
									<i class="ace-icon fa fa-trash-o bigger-120"></i>
								</button>
							</div>
						</td>
					</tr>
				</volist>
			</tbody>
		</table>
	</div>
</div>

<script src="__PUBLIC__/components/datatables/media/js/jquery.dataTables.js"></script>
<script src="__PUBLIC__/components/_mod/datatables/jquery.dataTables.bootstrap.js"></script>
<script src="__PUBLIC__/components/datatables.net-buttons/js/dataTables.buttons.js"></script>
<script src="__PUBLIC__/components/datatables.net-buttons/js/buttons.flash.js"></script>
<script src="__PUBLIC__/components/datatables.net-buttons/js/buttons.html5.js"></script>
<script src="__PUBLIC__/components/datatables.net-buttons/js/buttons.print.js"></script>
<script src="__PUBLIC__/components/datatables.net-buttons/js/buttons.colVis.js"></script>
<script src="__PUBLIC__/components/datatables.net-select/js/dataTables.select.js"></script>
<literal>
	<script>
	jQuery(function($) {
		//初始化表格
		//var myTable =  $('#user-table').dataTable({bAutoWidth: false,aoColumns: [null,null, null,null, null, null,null, null, null,null]})
		var myTable = 
				$('#user-table')
				//.wrap("<div class='dataTables_borderWrap' />")   //if you are applying horizontal scrolling (sScrollX)
				.DataTable( {
					bAutoWidth: false,
					"aoColumns": [
					  { "bSortable": false },
					  null, null,null, null, null,null, null, null,
					  { "bSortable": false }
					],
					"aaSorting": [],
					
					select: {
						style: 'multi'
					}
			    } );
		//工具对象
		new $.fn.dataTable.Buttons( myTable, {
					buttons: [
					  {
						"extend": "colvis",
						"text": "<i class='fa fa-search bigger-110 blue'></i> <span class='hidden'>Show/hide columns</span>",
						"className": "btn btn-white btn-primary btn-bold",
						columns: ':not(:first):not(:last)'
					  },
					  {
						"extend": "csv",
						"text": "<i class='fa fa-database bigger-110 orange'></i> <span class='hidden'>Export to CSV</span>",
						"className": "btn btn-white btn-primary btn-bold"
					  },
					  {
						"extend": "print",
						"text": "<i class='fa fa-print bigger-110 grey'></i> <span class='hidden'>Print</span>",
						"className": "btn btn-white btn-primary btn-bold",
						autoPrint: false,
						message: 'This print was produced using the Print button for DataTables'
					  }		  
					]
				} );

		myTable.buttons().container().appendTo( $('.tableTools-container') );

		setTimeout(function() {
			$($('.tableTools-container')).find('a.dt-button').each(function() {
				var div = $(this).find(' > div').first();
				if(div.length == 1) div.tooltip({container: 'body', title: div.parent().text()});
				else $(this).tooltip({container: 'body', title: $(this).text()});
			});
		}, 500);

		//定义选中事件
		myTable.on( 'select', function ( e, dt, type, index ) {
			if ( type === 'row' ) {
				$( myTable.row( index ).node() ).find('input:checkbox').prop('checked', true);
			}
		} );
		//定义取消选中事件
		myTable.on( 'deselect', function ( e, dt, type, index ) {
			if ( type === 'row' ) {
				$( myTable.row( index ).node() ).find('input:checkbox').prop('checked', false);
			}
		} );

		//全选列表
		$('#user-table > thead > tr > th input[type=checkbox]').eq(0).on('click', function(){
			var th_checked = this.checked;//checkbox inside "TH" table header
			
			$('#user-table').find('tbody > tr').each(function(){
				var row = this;
				if(th_checked){
					myTable.row(row).select();
				}else{
					myTable.row(row).deselect();
				}
			});
		});
	})
	</script>
</literal>