CREATE TABLE oa_attend_user (auser_id bigint(20) NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT '人员记录id',auser_code bigint(10) NOT NULL UNIQUE COMMENT '对应的用户code',auser_worktime float(10,2) COMMENT '动作时长',auser_annual int(3) default 0 COMMENT '年假') DEFAULT CHARSET=utf8;
CREATE TABLE oa_attend_checkin (acheckin_id bigint(20) NOT NULL PRIMARY KEY auto_increment COMMENT '打卡记录id',acheckin_code bigint(10) COMMENT '对应的用户code', acheckin_checkinway int(3) default 0 COMMENT '打卡的方法，1定位，2拍照',acheckin_type int(3) default 0 COMMENT '打卡的类型，1正常上下班，2外勤，3加班', acheckin_timetype int(3) default 0 COMMENT '打卡时间类型，1开始，2结束',acheckin_checkintime datetime COMMENT '打开产生的时间',acheckin_location varchar(300) default '' COMMENT '位置文本',acheckin_longlat varchar(50) default '' COMMENT '位置经纬度',acheckin_picture varchar(300) default '' COMMENT '拍照的图片路径') DEFAULT CHARSET=utf8;
CREATE TABLE oa_attend_apply (aapply_id bigint(20) NOT NULL PRIMARY KEY auto_increment COMMENT '打卡记录id',aapply_code bigint(10) NOT NULL UNIQUE COMMENT '对应的用户code',aapply_type int(3) default 0 COMMENT '申请类型，加班、外请等',aapply_inday int(3) COMMENT '一天内全天，上午，下午',aapply_addtime datetime COMMENT '申请时间',aapply_days int(3) COMMENT '天数',aapply_hours float(4,2) COMMENT '小时',aapply_reason varchar(200) COMMENT '理由',aapply_approve varchar(100) COMMENT '审核人json',aapply_state int(1) COMMENT '状态',aapply_operation varchar(100) COMMENT '操作记录json',aapply_remark varchar(100) COMMENT '备注');
CREATE TABLE oa_attend_record (arecord_id bigint(20) NOT NULL PRIMARY KEY auto_increment COMMENT '打卡记录id',arecord_code bigint(10) NOT NULL UNIQUE COMMENT '对应的用户code',arecord_year int(4) NOT NULL COMMENT '年', arecord_month int(2) NOT NULL COMMENT '月',arecord_json varchar(500) default '' COMMENT '数据json格式',arecord_count float(10,2) NOT NULL COMMENT '本月统计',arecord_remedy int(2) default 0 COMMENT '后补次数') DEFAULT CHARSET=utf8;